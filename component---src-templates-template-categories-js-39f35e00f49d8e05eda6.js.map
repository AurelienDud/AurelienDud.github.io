{"version":3,"sources":["webpack://aureliendud-website/./src/components/articlePreview.js","webpack://aureliendud-website/./src/components/postsList.js","webpack://aureliendud-website/./src/services/formaters.js","webpack://aureliendud-website/./src/templates/template-categories.js"],"names":["ArticlePreview","title","cover","excerpt","link","skeletonMode","CardCover","CardCoverAttrs","className","alt","S","src","G","image","getImage","CardTitle","width","height","duration","CardText","count","CardLink","href","defaultProps","posts","map","post","index","key","formatBlogData","length","data","frontmatter","date","category","childImageSharp","fields","slug","body","Template","pageContext","allMdx","nodes","pageTitle"],"mappings":"uuDAcA,SAASA,EAAT,GAAwE,IAA9CC,EAA6C,EAA7CA,MAAOC,EAAsC,EAAtCA,MAAOC,EAA+B,EAA/BA,QAASC,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,aAE/CC,EAAY,WAChB,IAAMC,EAAiB,CACrBC,UAAW,wCACXC,IAAK,IAEP,OAAIJ,EAEA,gBAAC,EAAAK,EAAD,eACEC,IAAI,qCACAJ,EAFN,wBAKCL,EAIE,gBAAC,EAAAU,EAAD,eAAaC,OAAOC,OAASZ,IAAYK,IAF5C,gBAAC,EAAAG,EAAD,eAAaC,IAAI,gCAAmCJ,EAApD,yBAMAQ,EAAY,WAChB,OAAKd,GAAUI,EAEb,sBAAIG,UAAU,cACXH,EACC,gBAAC,KAAD,CAAUW,MAAM,MAAMC,OAAO,MAAMC,SAjCpB,IAmCfjB,GAN8B,kCAahCkB,EAAW,WACf,OAAKhB,GAAYE,EAEf,uBAAKG,UAAU,aACZH,EACC,gBAAC,KAAD,CAAUe,MAAO,EAAGF,SA/CL,IAiDff,GANgC,kCAalCkB,EAAW,WACf,OAAKjB,GAASC,EAEZ,gCACGA,EACC,gBAAC,KAAD,CAAUW,MAAM,MAAMC,OAAO,MAAMC,SA7DpB,IA+Df,qBAAGI,KAAMlB,EAAMI,UAAU,6BAAzB,mBAN6B,kCAerC,OACE,uBAAKA,UAAU,cACb,gBAACF,EAAD,MACA,uBAAKE,UAAU,aACb,gBAACO,EAAD,MACA,gBAACI,EAAD,OAEF,uBAAKX,UAAU,2BACb,gBAACa,EAAD,QAcRrB,EAAeuB,aAAe,CAC5BrB,MAAO,KACPD,MAAO,KACPE,QAAS,KACTC,KAAM,KACNC,cAAc,GAGhB,Q,UC9EA,MA1BA,YAA8B,IAATmB,EAAQ,EAARA,MACnB,OACE,uBAAKhB,UAAU,OACZgB,EAAMC,KAAI,SAACC,EAAMC,GAAP,OACT,uBAAKnB,UAAU,gCAAgCoB,IAAKD,GAClD,gBAAC,GAAmBE,OAAeH,QAOtCF,EAAMM,OAAS,GAdD,GAeb,uBAAKtB,UAAU,mDACb,gBAAC,EAAD,CAAgBH,cAAY,KAG/BmB,EAAMM,OAAS,GAnBD,GAoBb,uBAAKtB,UAAU,mDACb,gBAAC,EAAD,CAAgBH,cAAY,Q,kCCrB/B,SAASwB,EAAeE,GAAO,IAAD,YACnC,MAAO,CACL9B,OAAO8B,SAAA,UAAAA,EAAMC,mBAAN,eAAmB/B,QAAS,KACnCgC,MAAMF,SAAA,UAAAA,EAAMC,mBAAN,eAAmBC,OAAQ,KACjCC,UAAUH,SAAA,UAAAA,EAAMC,mBAAN,eAAmBE,WAAY,KACzChC,OAAO6B,SAAA,UAAAA,EAAMC,mBAAN,mBAAmB9B,aAAnB,eAA0BiC,kBAAmB,KACpDhC,QAAS4B,EAAK5B,SAAW,KACzBC,MAAM2B,SAAA,UAAAA,EAAMK,cAAN,eAAcC,OAAQ,KAC5BC,KAAMP,EAAKO,MAAQ,M,qKC8BR,SAASC,EAAT,GAAwC,IAAD,EAApBR,EAAoB,EAApBA,KAAMS,EAAc,EAAdA,YAEhChB,GAAQO,SAAA,UAAAA,EAAMU,cAAN,eAAcC,QAAS,KAE/BC,GAAYH,aAAA,EAAAA,EAAaN,WAAY,KAG3C,OACE,gBAAC,IAAD,KAEE,gBAAC,IAAD,MACA,uBAAK1B,UAAU,YACb,uBAAKA,UAAU,uBACZmC,GACC,sBAAInC,UAAU,QAAd,eACemC,GAGfnB,EAAMM,OAAS,GACf,gBAAC,IAAD,CAAWN,MAAOA,MAIxB,gBAAC,IAAD","file":"component---src-templates-template-categories-js-39f35e00f49d8e05eda6.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { StaticImage, GatsbyImage, getImage } from \"gatsby-plugin-image\";\nimport Skeleton from \"react-loading-skeleton\";\n\n/**\n * Settings\n */\nconst skeletonDuration = 5;\n\n/**\n * View\n * @param {object} props\n */\nfunction ArticlePreview({ title, cover, excerpt, link, skeletonMode }) {\n  // card image\n  const CardCover = () => {\n    const CardCoverAttrs = {\n      className: \"card-img-top image-cover ratio-cinema\",\n      alt: \"\",\n    };\n    if (skeletonMode)\n      return (\n        <StaticImage\n          src=\"../assets/images/default_soon.png\"\n          {...CardCoverAttrs}\n        />\n      );\n    if (!cover)\n      return (\n        <StaticImage src=\"../assets/images/default.png\" {...CardCoverAttrs} />\n      );\n    return <GatsbyImage image={getImage(cover)} {...CardCoverAttrs} />;\n  };\n\n  // card title\n  const CardTitle = () => {\n    if (!title && !skeletonMode) return <></>;\n    return (\n      <h5 className=\"card-title\">\n        {skeletonMode ? (\n          <Skeleton width=\"8em\" height=\"1em\" duration={skeletonDuration} />\n        ) : (\n          title\n        )}\n      </h5>\n    );\n  };\n\n  // card body\n  const CardText = () => {\n    if (!excerpt && !skeletonMode) return <></>;\n    return (\n      <div className=\"card-text\">\n        {skeletonMode ? (\n          <Skeleton count={5} duration={skeletonDuration} />\n        ) : (\n          excerpt\n        )}\n      </div>\n    );\n  };\n\n  // card link\n  const CardLink = () => {\n    if (!link && !skeletonMode) return <></>;\n    return (\n      <>\n        {skeletonMode ? (\n          <Skeleton width=\"6em\" height=\"1em\" duration={skeletonDuration} />\n        ) : (\n          <a href={link} className=\"stretched-link text-muted\">\n            Lire l'article\n          </a>\n        )}\n      </>\n    );\n  };\n\n  // render\n  return (\n    <div className=\"card h-100\">\n      <CardCover />\n      <div className=\"card-body\">\n        <CardTitle />\n        <CardText />\n      </div>\n      <div className=\"card-footer text-center\">\n        <CardLink />\n      </div>\n    </div>\n  );\n}\n\nArticlePreview.propTypes = {\n  cover: PropTypes.object,\n  title: PropTypes.string,\n  excerpt: PropTypes.string,\n  link: PropTypes.string,\n  skeletonMode: PropTypes.bool,\n};\n\nArticlePreview.defaultProps = {\n  cover: null,\n  title: null,\n  excerpt: null,\n  link: null,\n  skeletonMode: false,\n};\n\nexport default ArticlePreview;\n","import React from 'react'\nimport ArticlePreview from \"./articlePreview\";\nimport { formatBlogData } from \"../services/formaters\";\n\nconst minPostCount = 3;\n\nfunction PostsList ({posts}) {\n  return (\n    <div className=\"row\">\n      {posts.map((post, index) => (\n        <div className=\"col-12 col-md-6 col-lg-4 pb-4\" key={index}>\n          <ArticlePreview {...formatBlogData(post)} />\n        </div>\n      ))}\n      {/*\n        display fake content to fill the space and tease future publications\n        but hide when necessary to keep a good UX on mobile\n      */}\n      {posts.length + 1 <= minPostCount && (\n        <div className=\"col-12 col-md-6 col-lg-4 pb-4 d-none d-md-block\">\n          <ArticlePreview skeletonMode />\n        </div>\n      )}\n      {posts.length + 2 <= minPostCount && (\n        <div className=\"col-12 col-md-6 col-lg-4 pb-4 d-none d-lg-block\">\n          <ArticlePreview skeletonMode />\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default PostsList","/**\n * Format data from graphQL into a friendly flat object\n * @param {object} data from graphQL\n */\nexport function formatBlogData(data) {\n  return {\n    title: data?.frontmatter?.title || null,\n    date: data?.frontmatter?.date || null,\n    category: data?.frontmatter?.category || null,\n    cover: data?.frontmatter?.cover?.childImageSharp || null,\n    excerpt: data.excerpt || null,\n    link: data?.fields?.slug || null,\n    body: data.body || null,\n  };\n}\n","import React, { useRef, useEffect } from \"react\";\nimport { graphql } from \"gatsby\";\nimport Layout from \"./layout\";\nimport Header from \"../components/header\";\nimport Footer from \"../components/footer\";\nimport PostsList from \"../components/postsList\";\n\n/**\n * QUery\n */\nexport const pageQuery = graphql`\n  query categoryPageQuery($category: String!) {\n    allMdx(\n      sort: { fields: [frontmatter___date], order: ASC },\n      filter: {frontmatter: {category: {eq: $category}}, fields: {group: {eq: \"blog\"}}}\n    ){\n      nodes {\n        frontmatter {\n          title\n          date\n          category\n          cover {\n            childImageSharp {\n              gatsbyImageData(layout: FULL_WIDTH)\n            }\n          }\n        }\n        fields {\n          slug\n          group\n        }\n        excerpt\n      }\n    }\n  }\n`;\n\n\n/**\n * View\n * @param {object} props\n */\nexport default function Template({data, pageContext}) {\n    // format mdx data\n  const posts = data?.allMdx?.nodes || null;\n\n  const pageTitle = pageContext?.category || null\n\n\n  return (\n    <Layout>\n      {/* header */}\n      <Header />\n      <div className=\"str-page\">\n        <div className=\"container mt-4 mb-3\">\n          {pageTitle && (\n            <h1 className=\"mb-3\">\n              Cat√©gorie : {pageTitle}\n            </h1>\n          )}\n          {(posts.length > 0) && (\n            <PostsList posts={posts} />\n          )}\n        </div>\n      </div>\n      <Footer />\n    </Layout>\n  );\n}\n"],"sourceRoot":""}